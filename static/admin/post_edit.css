#content-main.post-edit{ display:grid; gap:24px; align-items:start }
@media (min-width: 1200px){
  #content-main.post-edit{ grid-template-columns:minmax(0,1fr) 360px }
}
@media (min-width: 1440px){
  #content-main.post-edit{ grid-template-columns:minmax(0,1fr) 420px }
}

.post-edit__form-body{ display:flex; flex-direction:column; gap:24px }
.post-edit__form .object-tools{ margin-bottom:16px }
.post-edit__notices{ display:flex; flex-direction:column; gap:12px; margin-bottom:16px }
.post-edit__notice{ padding:12px 16px; border-radius:12px; font-size:14px; font-weight:500; line-height:1.45; display:flex; align-items:center; gap:10px }
.post-edit__notice--highlight{ box-shadow:0 0 0 3px rgba(56,189,248,0.35); animation:post-edit-notice-flash 1.2s ease-in-out 0s 2 }
.post-edit__notice--pending{ background:rgba(250,204,21,0.16); border:1px solid rgba(250,204,21,0.35); color:#854d0e }
.post-edit__notice--done{ background:rgba(74,222,128,0.2); border:1px solid rgba(74,222,128,0.4); color:#166534 }
.post-edit__form fieldset.module{ border-radius:12px; border:1px solid rgba(148,163,184,0.3) }
.post-edit__form fieldset.module h2{ font-size:16px; font-weight:600 }

#id_text{ font-family:"JetBrains Mono", "SFMono-Regular", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
  min-height:280px; font-size:14px; line-height:1.55 }

.inline-group{ margin-top:0 }
.inline-group .post-media-inline{ border:1px solid rgba(148,163,184,0.35); border-radius:12px; padding:16px; margin-bottom:16px; background:#fff }
.inline-group .post-media-inline.has_original{ background:#f8fafc }
.inline-group .post-media-inline h3{ margin-top:0; font-size:15px; display:flex; justify-content:space-between; align-items:center }
.inline-group .post-media-inline .form-row{ display:flex; flex-wrap:wrap; gap:16px }
.inline-group .post-media-inline .form-row>div{ flex:1 1 220px }
.inline-group .post-media-inline .form-row input[type="text"],
.inline-group .post-media-inline .form-row input[type="number"],
.inline-group .post-media-inline .form-row select{ width:100% }
.inline-group .post-media-inline .aligned .help{ margin-left:0 }
.inline-group .post-media-inline .delete{ margin-left:auto }

.post-edit__preview{ position:sticky; top:32px; display:flex; flex-direction:column; gap:16px }
.post-edit__preview-header h2{ margin:0; font-size:18px }
.post-edit__preview-header p{ margin:0; color:#6b7280; font-size:13px }
.post-edit__preview-body .post-card{ box-shadow:0 20px 35px rgba(15,23,42,0.25) }
.post-card--preview .post-card__footer{ justify-content:center }
.post-card__hint{ font-size:12px; color:rgba(226,232,240,0.85); text-align:center }

.post-media-inline-preview{
  margin-bottom:16px;
  padding:12px;
  border:1px dashed rgba(148,163,184,0.5);
  border-radius:10px;
  background:#f8fafc;
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:120px;
  text-align:center;
  font-size:13px;
  color:#64748b;
  position:relative;
}

.post-media-inline-preview[data-has-preview]{
  color:inherit;
}

.post-media-inline-preview img,
.post-media-inline-preview video{
  max-width:100%;
  border-radius:8px;
}

.post-media-inline-preview video{
  max-height:220px;
}

body.dark-theme .post-media-inline-preview{
  background:rgba(15,23,42,0.7);
  border-color:rgba(148,163,184,0.4);
  color:#e2e8f0;
}

body.dark-theme .post-edit__notice--pending{ background:rgba(250,204,21,0.08); border-color:rgba(250,204,21,0.25); color:#facc15 }
body.dark-theme .post-edit__notice--done{ background:rgba(34,197,94,0.15); border-color:rgba(74,222,128,0.25); color:#bbf7d0 }

@keyframes post-edit-notice-flash{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.01); }
  100%{ transform:scale(1); }
}

.post-media-inline-preview.is-loading::after{
  content:"";
  position:absolute;
  width:22px;
  height:22px;
  border-radius:50%;
  border:3px solid rgba(148,163,184,0.35);
  border-top-color:#2563eb;
  animation:post-media-spin 0.75s linear infinite;
}

.post-media-inline-preview.has-error{
  color:#b91c1c;
}

@keyframes post-media-spin{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}

body.dark-theme .inline-group .post-media-inline{ background:rgba(15,23,42,0.6); border-color:rgba(148,163,184,0.3) }
body.dark-theme .post-edit__preview-header p{ color:rgba(226,232,240,0.75) }
